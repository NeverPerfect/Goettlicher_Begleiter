<!DOCTYPE html>
<html lang="de">

<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Zwölf–Göttlicher Begleiter</title>
  <link rel="stylesheet" href="styles.css" />
  <link href="https://fonts.googleapis.com/css2?family=Cinzel:wght@400;700&display=swap" rel="stylesheet" />
</head>

<body>
  <div class="container">
    <!-- Fixierte Gottheits-Info (links) -->
    <div id="deity-info">
      <p>Die Götter warten auf deine Wahl...</p>
    </div>
    <!-- Hauptinhalt (rechts) -->
    <div class="main-content">
      <h1>Zwölf–Göttlicher Begleiter</h1>
      <!-- Auswahl der Gottheit -->
      <div class="deity-section">
        <label for="deity">Gottheit:</label>
        <select id="deity" onchange="updateDeityInfo()">
          <option value="">-- Wähle deine Gottheit --</option>
          <option value="Angrosch">Angrosch</option>
          <option value="Aves">Aves</option>
          <option value="Boron">Boron</option>
          <option value="Efferd">Efferd</option>
          <option value="Firun">Firun</option>
          <option value="Hesinde">Hesinde</option>
          <option value="Ifirn">Ifirn</option>
          <option value="Ingerimm">Ingerimm</option>
          <option value="Kor">Kor</option>
          <option value="Nandus">Nandus</option>
          <option value="Peraine">Peraine</option>
          <option value="Phex">Phex</option>
          <option value="Praios">Praios</option>
          <option value="Rahja">Rahja</option>
          <option value="Rondra">Rondra</option>
          <option value="Swafnir">Swafnir</option>
          <option value="Travia">Travia</option>
          <option value="Tsa">Tsa</option>
        </select>
      </div>
      <div class="split-container">
        <div class="left-pane">
          <h2>Entrückungs-Tracker</h2>
          <!-- Karmapunkte-Eingabe -->
          <div class="kap-section">
            <h2 class="entruckung-title" onclick="toggleEntruckungInfo()">
              Entrückung <span class="info-icon">ℹ️</span>
            </h2>
            <div id="entruckung-info" class="info-text">
              <p>
                Entrückung ist der rauschhafte Moment, in dem ein Geweihter
                die göttliche Kraft so intensiv spürt, dass die Welt um ihn
                verblasst. Hunger, Müdigkeit oder Gefahr werden unwichtig -
                nur die Gewissheit zählt, Teil eines höheren Plans zu sein.<br />
                Für jeden KaP den ein Geweihter aufwendet und den er
                regeneriert, erhält er Entrückungs-Punkte in gleicher Höhe.
              </p>
            </div>
            <label for="kap">Umgesetzte Karmapunkte:</label>
            <button onclick="changeKap(-1)">-</button>
            <span id="kap-value">0</span>
            <button onclick="changeKap(1)">+</button>
            <span class="button-text">KaP</span>
          </div>
          <!-- Zeit-Tracker -->
          <div class="time-tracker">
            <h2 class="abbau-title" onclick="toggleAbbauInfo()">
              Abbau von Entrückung <span class="info-icon">ℹ️</span>
            </h2>
            <div id="abbau-info" class="info-text">
              <p>
                Entrückung baut sich je Stunde Beschäftigung mit weltlichen
                Dingen oder je zwei Stunden Schlaf um einen Punkt ab. Während
                Meditationen und Gebeten baut sich Entrückung nicht ab.
              </p>
            </div>
            <div>
              <label for="worldly-hours">Beschäftigung mit weltlichen Dingen:</label>
              <div class="button-group">
                <button onclick="changeWorldlyHours(-1)">-</button>
                <span id="worldly-hours-value">0</span>
                <button onclick="changeWorldlyHours(1)">+</button>
                <span class="button-text">Stunde(n)</span>
              </div>
            </div>
            <div>
              <label for="sleep-hours"><br />Schlaf:</label>
              <div class="button-group">
                <button onclick="changeSleepHours(-1)">-</button>
                <span id="sleep-hours-value">0</span>
                <button onclick="changeSleepHours(1)">+</button>
                <span class="button-text">2 Stunden</span>
              </div>
            </div>
          </div>
          <!-- Ergebnisse -->
          <div class="results-section">
            <h2 class="ergebnis-title" onclick="toggleErgebnisInfo()">
              Ergegnis <span class="info-icon">ℹ️</span>
            </h2>
            <div id="ergebnis-info" class="info-text">
              <p>
                - 1/10 der Entrückungs-Punkte (maximal 7) werden als Boni/Mali
                auf alle Mirakel+ Talente, Mirakel und Liturgien
                angerechnet.<br />
                - Alle anderen Tätigkeiten erhalten einen Malus in gleicher
                Höhe, sogar in doppelter Höhe bei Mirakel – Talenten.<br />
                - Für Zauberer ist die AsP-Regeneration um 1/10 der
                Entrückungs-Punkte vermindert<br /><br /><b>Eine positive Zahl bedeutet eine Erschwernis
                  (Würfelwürfe werden um diesen Wert erschwert) und eine
                  negative Zahl eine Erleichterung.</b>
              </p>
            </div>
            <p>
              <strong>Entrückung:</strong>
              <span id="entruckung-points">0</span>
            </p>
            <p>
              <strong>Bonus auf Mirakel+ Talente:</strong>
              <span id="mirakel-bonus">0</span>
            </p>
            <p>
              <strong>Malus auf Mirakel- Talente:</strong>
              <span id="mirakel-malus">0</span>
            </p>
            <p>
              <strong>Malus auf sonstige Talente:</strong>
              <span id="other-malus">0</span>
            </p>
            <p>
              <strong>AsP-Regeneration (Zauberer):</strong>
              <span id="asp-regen">0</span>
            </p>
            <div id="special-effects"></div>
            <button onclick="resetEntruckung()">Zurücksetzen</button>
          </div>
        </div>
        <div class="right-pane">
          <h3>Modifikatoren der Mirakelprobe</h3>
          <!-- Modifikatoren-Akkordeons -->
          <div class="accordion">
            <div class="accordion-header">
              <h3>Motivation</h3>
            </div>
            <div class="accordion-content">
              <div>
                <input type="checkbox" id="emergency" onchange="calculateModifiers()" />
                <label for="emergency">Aus einer Notlage heraus (-3)</label>
              </div>
              <div>
                <input type="checkbox" id="divine-mission"
                  onchange="calculateModifiers(); toggleDropdown('divine-mission', 'divine-mission-value-container')" />
                <label for="divine-mission">für einen kirchlichen/göttlichen Auftrag (bis zu -7)</label>
                <div id="divine-mission-value-container" style="display: none">
                  <select id="divine-mission-value" onchange="calculateModifiers()">
                    <option value="-1">-1</option>
                    <option value="-2">-2</option>
                    <option value="-3">-3</option>
                    <option value="-4">-4</option>
                    <option value="-5">-5</option>
                    <option value="-6">-6</option>
                    <option value="-7">-7</option>
                  </select>
                </div>
              </div>
              <div>
                <input type="checkbox" id="selfish-motives"
                  onchange="calculateModifiers(); toggleDropdown('selfish-motives', 'selfish-motives-value-container')" />
                <label for="selfish-motives">Aus eigensüchtigen Motiven (bis zu +7)</label>
                <div id="selfish-motives-value-container" style="display: none">
                  <select id="selfish-motives-value" onchange="calculateModifiers()">
                    <option value="1">+1</option>
                    <option value="2">+2</option>
                    <option value="3">+3</option>
                    <option value="4">+4</option>
                    <option value="5">+5</option>
                    <option value="6">+6</option>
                    <option value="7">+7</option>
                  </select>
                </div>
              </div>
              <div>
                <input type="checkbox" id="magical-influence" onchange="calculateModifiers()" />
                <label for="magical-influence">Unter (magischer) Beherrschung/Beeinflussung (+12)</label>
              </div>
              <div>
                <input type="checkbox" id="new-convert" onchange="calculateModifiers()" />
                <label for="new-convert">Frisch konvertierter Geweihter (+3)</label>
              </div>
              <div>
                <input type="checkbox" id="oathbreaker" onchange="calculateModifiers()" />
                <label for="oathbreaker">Geweihter ist Eidbrecher (+3)</label>
              </div>
              <div>
                <input type="checkbox" id="blasphemer" onchange="calculateModifiers()" />
                <label for="blasphemer">Geweihter ist Frevler (+7)</label>
              </div>
            </div>
          </div>
          <div class="accordion">
            <div class="accordion-header">
              <h3>Ort</h3>
            </div>
            <div class="accordion-content">
              <div>
                <input type="checkbox" id="consecrated-ground" onchange="calculateModifiers()" />
                <label for="consecrated-ground">Geweihter Boden eines anderen Zwölfgottes (-1)</label>
              </div>
              <div>
                <input type="checkbox" id="shrine" onchange="calculateModifiers()" />
                <label for="shrine">Kapelle/Schrein der eigenen Gottheit (-2)</label>
              </div>
              <div>
                <input type="checkbox" id="temple" onchange="calculateModifiers()" />
                <label for="temple">Tempel der eigenen Gottheit (-3)</label>
              </div>
              <div>
                <input type="checkbox" id="holy-site" onchange="calculateModifiers()" />
                <label for="holy-site">Heiliger Ort der eigenen Gottheit (-4)</label>
              </div>
              <div>
                <input type="checkbox" id="unbelievers"
                  onchange="calculateModifiers(); toggleDropdown('unbelievers', 'unbelievers-value-container')" />
                <label for="unbelievers">Territorium/Gegenwart vieler Ungläubiger (je +3)</label>
                <div id="unbelievers-value-container" style="display: none">
                  <select id="unbelievers-value" onchange="calculateModifiers()">
                    <option value="3">3</option>
                    <option value="6">6</option>
                    <option value="9">9</option>
                    <option value="12">12</option>
                    <option value="15">15</option>
                  </select>
                </div>
              </div>
              <div>
                <input type="checkbox" id="other-world"
                  onchange="calculateModifiers(); toggleDropdown('other-world', 'other-world-value-container')" />
                <label for="other-world">Andere Welt/Globule/Limbus (min. +7)</label>
                <div id="other-world-value-container" style="display: none">
                  <select id="other-world-value" onchange="calculateModifiers()">
                    <option value="7">+7</option>
                    <option value="8">+8</option>
                    <option value="9">+9</option>
                    <option value="10">+10</option>
                    <option value="10">+11</option>
                    <option value="10">+12</option>
                  </select>
                </div>
              </div>
              <div>
                <input type="checkbox" id="demonic-territory"
                  onchange="calculateModifiers(); toggleDropdown('demonic-territory', 'demonic-territory-value-container')" />
                <label for="demonic-territory">Dämonisch verzerrtes Territorium (min. +7)</label>
                <div id="demonic-territory-value-container" style="display: none">
                  <select id="demonic-territory-value" onchange="calculateModifiers()">
                    <option value="7">+7</option>
                    <option value="8">+8</option>
                    <option value="9">+9</option>
                    <option value="10">+10</option>
                    <option value="10">+11</option>
                    <option value="10">+12</option>
                  </select>
                </div>
              </div>
            </div>
          </div>
          <div class="accordion">
            <div class="accordion-header">
              <h3>Zeitpunkt</h3>
            </div>
            <div class="accordion-content">
              <div>
                <input type="checkbox" id="holy-month" onchange="calculateModifiers()" />
                <label for="holy-month">Monat der eigenen Gottheit (-1)</label>
              </div>
              <div>
                <input type="checkbox" id="holy-day" onchange="calculateModifiers()" />
                <label for="holy-day">Feiertag der eigenen Gottheit (-3)</label>
              </div>
              <div>
                <input type="checkbox" id="nameless-days" onchange="calculateModifiers()" />
                <label for="nameless-days">Namenlose Tage (+7)</label>
              </div>
            </div>
          </div>
          <div class="accordion">
            <div class="accordion-header">
              <h3>Umstände (Nur Liturgien)</h3>
            </div>
            <div class="accordion-content">
              <div>
                <input type="checkbox" id="upgraded-liturgie"
                  onchange="toggleDropdown('upgraded-liturgie', 'upgraded-liturgie-value-container')" />
                <label for="upgraded-liturgie">Aufgestufte Liturgie (+2 pro Veränderung)</label>
                <div id="upgraded-liturgie-value-container" style="display: none">
                  <select id="upgraded-liturgie-value" onchange="calculateModifiers()">
                    <option value="2">1</option>
                    <option value="4">2</option>
                    <option value="6">3</option>
                    <option value="8">4</option>
                    <option value="10">5</option>
                  </select>
                </div>
              </div>
              <div>
                <input type="checkbox" id="harmony" onchange="toggleDropdown('harmony', 'harmony-value-container')" />
                <label for="harmony">Harmonie mit dem Weltgeschehen (-2 bis +7)</label>
                <div id="harmony-value-container" style="display: none">
                  <select id="harmony-value" onchange="calculateModifiers()">
                    <option value="-2">-2</option>
                    <option value="-1">-1</option>
                    <option value="1">+1</option>
                    <option value="2">+2</option>
                    <option value="3">+3</option>
                    <option value="4">+4</option>
                    <option value="5">+5</option>
                    <option value="6">+6</option>
                    <option value="7">+7</option>
                  </select>
                </div>
              </div>
              <div>
                <input type="checkbox" id="target-oathbreaker" onchange="calculateModifiers()" />
                <label for="target-oathbreaker">Ziel ist Eidbrecher (+2)</label>
              </div>
              <div>
                <input type="checkbox" id="target-blasphemer" onchange="calculateModifiers()" />
                <label for="target-blasphemer">Ziel ist Frevler (+5)</label>
              </div>
            </div>
          </div>
          <div class="accordion">
            <div class="accordion-header">
              <h3>Modifikatoren für Regeneration</h3>
            </div>
            <div class="accordion-content">
              <label>Abstand zur letzten Regeneration:</label>
              <div>
                <input type="radio" id="regen-one-day" name="regen-time" value="12" onchange="calculateModifiers()" />
                <label for="regen-one-day">Ein Tag (+12)</label>
              </div>
              <div>
                <input type="radio" id="regen-two-days" name="regen-time" value="8" onchange="calculateModifiers()" />
                <label for="regen-two-days">Zwei Tage (+8)</label>
              </div>
              <div>
                <input type="radio" id="regen-one-week" name="regen-time" value="4" onchange="calculateModifiers()" />
                <label for="regen-one-week">Eine Woche (+4)</label>
              </div>
              <div>
                <input type="radio" id="regen-one-month" name="regen-time" value="0" onchange="calculateModifiers()" />
                <label for="regen-one-month">Ein Monat oder mehr (+-0)</label>
              </div>
            </div>
          </div>
          <div class="modifiers-section">
            <h2 class="ergebnismod-title" onclick="toggleErgebnismodInfo()">
              Ergebnisse
            </h2>
            <div id="ergebnismod-info" class="info-text">
              <p>
                - Für die Berechnung für das Wirken von Liturgien zählen die
                Kategorien Motivation, Ort, Zeitpunkt und Umstände jeweils
                voll<br />
                - Für die Berechnung für das Wirken eines Mirakels zählen die
                Kategorien Motivation, Ort und Zeitpunkt jeweils zur Hälfte<br />
                - Für die Berechnung der Regenerationsprobe zählen die
                Kategorien Ort und Zeitpunkt voll, zusätzlich zu den
                Modifikationen für die Regeneration.
                <br /><br /><b>Eine positive Zahl bedeutet eine Erschwernis
                  (Würfelwürfe werden um diesen Wert erschwert) und eine
                  negative Zahl eine Erleichterung.</b>
              </p>
            </div>

            <div class="result-row">
              <div class="result-label" onclick="toggleLiturgieWirkenInfo()">
                Liturgie wirken: <span id="liturgie-sum">+0</span>
              </div>
              <div id="liturgie-wirken-info" class="info-text result-info-text">
                <p>
                  Probe auf MU/IN/CH + Modifikator um eine erlernte Liturgie
                  zu wirken.
                </p>
              </div>
            </div>

            <div class="result-row">
              <div class="result-label" onclick="toggleMirakelWirkenInfo()">
                Mirakel wirken
              </div>
              <div id="mirakel-wirken-info" class="info-text result-info-text">
                <p>
                  Probe auf MU/IN/CH + Modifikator um ein Mirakel zu
                  wirken.<br />
                  <b>Kosten:</b> 5 KaP<br />
                  <b>Wirkungsdauer</b> Hält für eine einzige Probe<br />
                  <b>Wirkung:</b> Ein Mirakel erhöhrt für eine Aufgabe eine Probe um LkP/2+2 für Eigenschaften oder AU
                  oder um LkP/2+5 für Talente und Gaben<br />
                  <b>Misslungen:</b> 1/5 der Kosten, mindestens aber 1 KaP.
                  Erschwernis von +3 auf das Wiederholen der Mirakelprobe
                  innerhalb der folgenden Spielrunde.<br />
                  Ein kritischer (Miss-)Erfolg hat keinerlei Auswirkungen.
                </p>
              </div>
              <div class="mirakel-results">
                <div class="mirakel-result">
                  <span class="mirakel-label">Mirakel +:</span>
                  <span class="mirakel-value" id="mirakel-plus-sum">+0</span>
                </div>
                <div class="mirakel-result">
                  <span class="mirakel-label">Mirakel +/-:</span>
                  <span class="mirakel-value" id="mirakel-plusminus-sum">+6</span>
                </div>
                <div class="mirakel-result">
                  <span class="mirakel-label">Mirakel -:</span>
                  <span class="mirakel-value" id="mirakel-minus-sum">+18</span>
                </div>
              </div>
            </div>

            <div class="result-row">
              <div class="result-label" onclick="toggleKapRegenerierenInfo()">
                KaP regenerieren: <span id="regen-sum">+0</span>
              </div>
              <div id="kap-regenerieren-info" class="info-text result-info-text">
                <p>
                  <b>Tägliche Regeneration:</b><br />
                  Der Geweihte regeneriert täglich 1 KaP während der normalen
                  Regenerationsphase, insofern er sich nicht in einem Gebiet
                  aufhält, in welchem die Verbindung zwischen ihm und seinem
                  Gott gestört ist und er nicht gerade in einen
                  Gewissenskonflikt mit seinem Gott geraten ist.<br /><br />
                  <b>Regeneration durch Meditation und Gebet:</b>><br />
                  Für je 4 Stunden Meditation und Gebet – möglichst
                  ununterbrochen, aber nicht zwingend notwendig – kann der
                  Geweihte eine <b>modifizierte Mirakelprobe</b> (Probe auf MU/IN/CH + Modifikator) ablegen und erhält
                  LkP* Karmapunkte zurück. Während dieser Zeit werden keine
                  LeP und AsP regeneriert.
                </p>
              </div>
            </div>

            <button onclick="resetLiturgie()">Zurücksetzen</button>
          </div>
        </div>
      </div>
      <!-- Quellenangabe -->
      <div class="source">
        <p>Quelle: WdG 243-246</p>
        <button onclick="saveSettings()">Einstellungen speichern</button>
      </div>
    </div>
  </div>
  <script src="script.js"></script>
</body>

</html>